container_commands:
  01_migrate:
    command: "source /var/app/venv/*/bin/activate && python3 manage.py migrate"
    leader_only: true
  02_createsu:
    command: "source /var/app/venv/*/bin/activate && echo "from django.contrib.auth.models import User; User.objects.create_superuser('ivideo_admin', 'avantied@avanti.in', 'avanti123')" | python3 manage.py shell"
    leader_only: true
  03_collectstatic:
    command: "source /var/app/venv/*/bin/activate && python3 manage.py collectstatic --noinput"
    leader_only: true
option_settings:  
  "aws:elasticbeanstalk:application:environment":
    DJANGO_SETTINGS_MODULE: ivideo.settings
  "aws:elasticbeanstalk:container:python:staticfiles":
    "/static/": "www/static/"
